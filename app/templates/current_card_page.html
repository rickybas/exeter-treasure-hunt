{% extends "bootstrap/base.html" %}

<!-- {% block html_attribs %} lang="en"{% endblock %} -->
{% block title %}{{ APP_NAME }} - Cards{% endblock %}

{% block styles %}
    <link rel="stylesheet" type='text/css'
          href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/bootstrap.css') }}">
{% endblock %}

{% block scripts %}
    {{ super() }}
{% endblock %}

{% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="navbar-brand" style="font-size:30px"><i class="fa fa-compass" style="color:white;"></i>
            <a class="navbar-brand" href="./" style="font-size:35px">ExePlore</a>
        </div>
        <!-- Navbar Mobile View Expander -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01"
                aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation" style="width:60px;">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar Items -->
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" onclick="alert('FAQ and Help not yet implemented.');">Get Help</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('gdpr_policy') }}">GDPR and Privacy</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       onclick="alert('Team: \n- Anthony Bennett \n- Ricky Bassom\n- Adam Fitzgerald\n- Leon Cresdee\n- Louis Beresford\n- Tom Gates.\nStack:\n- Python Flask\n- Jaws MariaDB\n- Heroku\n- Docker\nInfo:\n- Produced for the University of Exeter Year 2 Group Software Engineering Project as Group M.');">About</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <button class="float-right btn btn-success my-2 my-lg-0" onclick="location.href='/logout';"
                            style="margin-left: auto;width:100px;">Logout
                    </button>
                    <button class="float-right btn btn-warning my-2 my-lg-0" onclick="location.href='/reset';"
                            style="margin-left: auto;width: 120px; margin-right: 20px;">Reset my cards
                    </button>
                </li>
            </ul>
        </div>
    </nav>
{% endblock %}


{% block content %}
    <div class="card-container text-center" style="padding:10%;padding-top:2%">
        <div class="text-center card"
             style="border-radius: 10px !important; background:repeating-linear-gradient(45deg, rgba(112, 112, 112, 0.12) 0px, rgba(112, 112, 112, 0.12) 42px,rgba(105, 105, 105, 0.12) 42px, rgba(105, 105, 105, 0.12) 83px,rgba(206, 206, 206, 0.12) 83px, rgba(206, 206, 206, 0.12) 103px,rgba(130, 130, 130, 0.12) 103px, rgba(130, 130, 130, 0.12) 125px,rgba(51, 51, 51, 0.12) 125px, rgba(51, 51, 51, 0.12) 174px,rgba(220, 220, 220, 0.12) 174px, rgba(220, 220, 220, 0.12) 199px),repeating-linear-gradient(45deg, rgba(192, 192, 192, 0.12) 0px, rgba(192, 192, 192, 0.12) 13px,rgba(119, 119, 119, 0.12) 13px, rgba(119, 119, 119, 0.12) 29px,rgba(157, 157, 157, 0.12) 29px, rgba(157, 157, 157, 0.12) 75px,rgba(223, 223, 223, 0.12) 75px, rgba(223, 223, 223, 0.12) 121px,rgba(80, 80, 80, 0.12) 121px, rgba(80, 80, 80, 0.12) 169px,rgba(208, 208, 208, 0.12) 169px, rgba(208, 208, 208, 0.12) 194px),repeating-linear-gradient(45deg, rgba(44, 44, 44, 0.1) 0px, rgba(44, 44, 44, 0.1) 147px,rgba(38, 38, 38, 0.1) 147px, rgba(38, 38, 38, 0.1) 248px,rgba(1, 1, 1, 0.1) 248px, rgba(1, 1, 1, 0.1) 325px,rgba(34, 34, 34, 0.1) 325px, rgba(34, 34, 34, 0.1) 434px,rgba(98, 98, 98, 0.1) 434px, rgba(98, 98, 98, 0.1) 534px,rgba(79, 79, 79, 0.1) 534px, rgba(79, 79, 79, 0.1) 630px),linear-gradient(90deg, rgb(153, 255, 73),rgb(51, 204, 35));">
            <div style="padding:3%;">
                <h3>{{ location }}</h3>
                <img src="{{ image }}" alt="location image" style="width:80%; margin-bottom:20px;">
                <br>
                {{ question }}
                <br>

                <form method="get" style="border:none">
                    <button onclick="check(this.id)" class="btn btn-success" style="margin:2px" id="a"
                            value="{{ answers['a'] }}">{{ answers['a'] }}</button>
                    <br>
                    <button onclick="check(this.id)" class="btn btn-success" style="margin:2px" id="b"
                            value="{{ answers['b'] }}">{{ answers['b'] }}</button>
                    <br>
                    <button onclick="check(this.id)" class="btn btn-success" style="margin:2px" id="c"
                            value="{{ answers['c'] }}">{{ answers['c'] }}</button>
                    <br>
                    <button onclick="check(this.id)" class="btn btn-success" style="margin:2px" id="d"
                            value="{{ answers['d'] }}">{{ answers['d'] }}</button>
                    <br>
                </form>
            </div>
        </div>


    </div>


    <script type="text/javascript">
        function check(clicked_id) {
            $.post("/is-answer-correct",
                {
                    answer: clicked_id,
                    location: "{{ location }}"
                },
                function (data, status) {
                    if (data === "correct") {
                        alert("Correct!");
                        location.reload();
                    } else {
                        alert("Incorrect");
                    }
                });
        }

    </script>

    <footer class="footer">
        <button class="btn btn-success footer-btn" onclick="location.href='/cards';">Cards
        </button>
        <button class="btn btn-success footer-btn" onclick="location.href='/';">Map
        </button>
        <button class="btn btn-success footer-btn" onclick="location.href='/scores';">Scores
        </button>
    </footer>
{% endblock %}
